(this["webpackJsonpchess-app-view"]=this["webpackJsonpchess-app-view"]||[]).push([[0],{11:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);n(11);var r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))},i=n(9),a=n(21),s=n(6),o=n(7),c=["a","b","c","d","e","f","g","h"],u={w:["R","N","B","Q","K","B","N","R","p"],b:["R","N","B","K","Q","B","N","R","p"]},l=function(){function e(){Object(s.a)(this,e),this.listeners=[],this.player="",this.opponent="",this.turn="",this.log=[]}return Object(o.a)(e,[{key:"setPlayer",value:function(e){this.player=e,this.opponent="w"===e?"b":"w"}},{key:"resetBoard",value:function(){this.toggled="",this.turn="w",this.log=[],this.enpassant="",this.inpromotion="",this.over=!1,this.winner="",this.board=[],this.canCastleQueen={w:!0,b:!0},this.canCastleKing={w:!0,b:!0};for(var e=0;e<8;e++)for(var t=0;t<8;t++)this.board.push({id:"".concat("w"===this.player?c[t]:c[7-t]).concat("w"===this.player?8-e:e+1),color:e<2?this.opponent:e>5?this.player:"",value:0===e||7===e?u[this.player][t]:1===e||6===e?"p":""});this.update({event:"reset",board:this.board,player:this.player})}},{key:"toggleSquare",value:function(e){this.getSquare(e).color===this.turn?(""!==this.toggled&&this.update({event:"detoggle",id:this.toggled}),this.toggled!==e?(this.toggled=e,this.update({event:"toggle",id:e})):this.toggled=""):""!==this.toggled&&(this.update({event:"detoggle",id:this.toggled}),this.move(this.toggled,e),this.toggled="")}},{key:"isPotentialMove",value:function(e,t){var n=this.getSquare(e).value,r=this.fileValue(e[0]),i=this.fileValue(t[0]),a=parseInt(e[1]),s=parseInt(t[1]);if(a<1||a>8||r<0||r>8)return[!1,!1,!1];if(s<1||s>8||i<1||i>8)return[!1,!1,!1];if(this.getSquare(t).color===this.getSquare(e).color)return[!1,!1,!1];var o=s-a,u=i-r,l=!1,d=!1;if("p"===n){var h=o*("w"===this.turn?1:-1);if(h<1||h>2||u<-1||u>1)return{withoutCheck:!1};if(""!==this.getSquare(t).color){if(2===h||0===u)return[!1,!1,!1]}else{if(2===h&&2!==a&&7!==a)return[!1,!1,!1];if(0!==u){if(this.enpassant!=="".concat(c[i-1]).concat(a))return[!1,!1,!1];l=!0}}}else if("N"===n)if(2===u||-2===u){if(1!==o&&-1!==o)return[!1,!1,!1]}else{if(1!==u&&-1!==u)return[!1,!1,!1];if(2!==o&&-2!==o)return[!1,!1,!1]}else if("R"===n){if(0!==o&&0!==u)return[!1,!1,!1];if(!this.isEmptyBetween(a,s,r,i))return[!1,!1,!1]}else if("B"===n){if(0===o||0===u)return[!1,!1,!1];if(Math.abs(i-r)!==Math.abs(s-a))return[!1,!1,!1];if(!this.isEmptyBetween(a,s,r,i))return[!1,!1,!1]}else if("Q"===n){if(0!==o&&0!==u&&Math.abs(i-r)!==Math.abs(s-a))return[!1,!1,!1];if(!this.isEmptyBetween(a,s,r,i))return[!1,!1,!1]}else{if(o>1||o<-1)return[!1,!1,!1];if(u>1||u<-1){if(!this.isCastleAvailable(e,t))return[!1,!1,!1];d=!0}}return[!0,l,d]}},{key:"modelMove",value:function(e,t){var n=this,r=this.isPotentialMove(e,t);if(!r[0])return[!1,!1,!1,this.board];var i=this.board.map((function(e){return Object(a.a)({},e)}));this.getBoardSquare(i,t).value=this.getSquare(e).value,this.getBoardSquare(i,t).color=this.turn,this.getBoardSquare(i,e).value="",this.getBoardSquare(i,e).color="",r[1]&&(this.getBoardSquare(i,t[0]+e[1]).value="",this.getBoardSquare(i,t[0]+e[1]).color=""),r[2]&&(this.getBoardSquare(i,this.shift(e,0,"g"===t[0]?1:-1)).value="R",this.getBoardSquare(i,this.shift(e,0,"g"===t[0]?1:-1)).color=this.turn,this.getBoardSquare(i,this.shift(e,0,"g"===t[0]?3:-4)).value="",this.getBoardSquare(i,this.shift(e,0,"g"===t[0]?3:-4)).color="");var s=i.find((function(e){return"K"===e.value&&e.color===n.turn})).id;return this.inCheck(i,s)?[!1,!1,!1,this.board]:[!0,r[1],r[2],i]}},{key:"basicNotation",value:function(e,t){var n=this.getSquare(e).value;if("p"===n)return e[0]===t[0]?t:e[0]+"x"+t;if("Q"===n||"K"===n||"B"===n)return""===this.getSquare(t).color?n+t:n+"x"+t;var r=(""!==this.getSquare(t).color?"x":"")+t,i=this.getSquaresByVC(n,this.turn);if(i.length>1){var a=i.map((function(e){return e.id})).find((function(t){return t!==e}));if(console.log(a),this.modelMove(a,t)[0])return a[0]===e[0]?n+e[1]+r:n+e[0]+r}return n+r}},{key:"move",value:function(e,t){var n=this.modelMove(e,t);if(n[0]){var r="";if(n[2]||(r=this.basicNotation(e,t)),this.board=n[3],this.update({event:"empty",id:e}),this.update({event:"setValue",id:t,value:this.getSquare(t).value,color:this.getSquare(t).color}),"p"===this.getSquare(t).value&&("1"===t[1]&&"b"===this.turn||"8"===t[1]&&"w"===this.turn))return this.update({event:"promote",id:t,color:this.turn}),void(this.inpromotion=t);n[1]&&this.update({event:"empty",id:t[0]+e[1]}),"p"===this.getSquare(t).value&&Math.abs(parseInt(e[1])-parseInt(t[1]))>1?this.enpassant=t:this.enpassant="",n[2]&&(this.canCastleKing[this.turn]=!1,this.canCastleQueen[this.turn]=!1,r="g"===t[0]?"O-O":"O-O-O",this.update({event:"empty",id:("g"===t[0]?"h":"a")+t[1]}),this.update({event:"setValue",id:("g"===t[0]?"f":"d")+t[1],value:"R",color:this.turn})),this.canCastleKing[this.turn]?e!==("w"===this.turn?"e1":"e8")&&e!==("w"===this.turn?"h1":"h8")||(this.canCastleKing[this.turn]=!1):this.canCastleQueen[this.turn]&&(e!==("w"===this.turn?"e1":"e8")&&e!==("w"===this.turn?"a1":"a8")||(this.canCastleQueen[this.turn]=!1)),this.turn="w"===this.turn?"b":"w",r=this.testChecks(r),this.log.push(r),console.log(this.log)}}},{key:"promote",value:function(e){var t=this.inpromotion+"="+e;this.getSquare(this.inpromotion).value=e,this.inpromotion="",this.turn="w"===this.turn?"b":"w",this.testChecks(t),this.log.push(t),console.log(this.log)}},{key:"deployMate",value:function(){var e=this;this.over=!0;var t=this.board.find((function(t){return"K"===t.value&&t.color===e.turn})).id;this.inCheck(this.board,t)&&(this.winner="w"===this.turn?"b":"w"),this.update({event:"end",winner:this.winner})}},{key:"testChecks",value:function(e){if(this.testMate())this.deployMate(),""!==this.winner&&(e+="#");else{var t=this.getSquaresByVC("K",this.turn).pop().id;this.inCheck(this.board,t)&&(e+="+")}return e}},{key:"testMate",value:function(){for(var e=!1,t=this.getSquaresByVC("K",this.turn).pop().id,n=-1;n<2;n++){for(var r=-1;r<2;r++)if(this.validShift(t,n,r)&&this.modelMove(t,this.shift(t,n,r))[0]){e=!0;break}if(e)break}if(e)return!1;var a,s=this.getSquaresByVC("p",this.turn),o=Object(i.a)(s.map((function(e){return e.id})));try{for(o.s();!(a=o.n()).done;){for(var c=a.value,u=0,l=[0,-1,1];u<l.length;u++){var d=l[u],h="w"===this.turn?1:-1;if(this.validShift(c,h,d)&&this.modelMove(c,this.shift(c,h,d))[0]){e=!0;break}}if(e)break}}catch(B){o.e(B)}finally{o.f()}if(e)return!1;var f,p=this.getSquaresByVC("N",this.turn),m=Object(i.a)(p.map((function(e){return e.id})));try{for(m.s();!(f=m.n()).done;){for(var g=f.value,v=-2;v<3;v++)for(var b=-2;b<3;b++)if(this.validShift(g,v,b)&&this.modelMove(g,this.shift(g,v,b))[0]){e=!0;break}if(e)break}}catch(B){m.e(B)}finally{m.f()}if(e)return!1;var j,y=this.getSquaresByVC("Q",this.turn).concat(this.getSquaresByVC("R",this.turn)).concat(this.getSquaresByVC("B",this.turn)),x=Object(i.a)(y.map((function(e){return e.id})));try{for(x.s();!(j=x.n()).done;){for(var k=j.value,w=-1;w<2;w++)for(var O=-1;O<2;O++)if(this.validShift(k,w,O)&&this.modelMove(k,this.shift(k,w,O))[0]){e=!0;break}if(e)break}}catch(B){x.e(B)}finally{x.f()}return!e}},{key:"inCheck",value:function(e,t){for(var n=this.fileValue(t[0]),r=parseInt(t[1]),i=!1,a=-1;a<2;a++){for(var s=-1;s<2;s++)if((0!==a||0!==s)&&!this.safeInDirection(e,r,n,a,s)){i=!0;break}if(i)break}return!!i||!this.safeFromKnights(e,t)}},{key:"safeInDirection",value:function(e,t,n,r,i){for(var a=t+r,s=n+i;a>0&&a<9&&s>0&&s<9;){var o=this.getBoardSquare(e,c[s-1]+a);if(""!==o.color){if(o.color===this.turn)return!0;var u=["Q"];return 0!==r&&0!==i?u.push("B"):u.push("R"),Math.abs(s-n)<2&&Math.abs(a-t)<2&&(u.push("K"),1===Math.abs(s-n)&&("w"===this.turn?a-t===1:a-t===-1)&&u.push("p")),!u.includes(o.value)}a+=r,s+=i}return!0}},{key:"safeFromKnights",value:function(e,t){var n=this,r=e.filter((function(e){return"N"===e.value&&e.color!==n.turn}));return 0===r.length||!r.map((function(e){return n.isPotentialMove(e.id,t)[0]})).reduce((function(e,t){return e||t}))}},{key:"isEmptyBetween",value:function(e,t,n,r){for(var i=t-e>0?1:t-e<0?-1:0,a=r-n>0?1:r-n<0?-1:0,s=e+i,o=n+a,u=!0;s!==t||o!==r;)u=""===this.getSquare(c[o-1]+s).value,s+=i,o+=a;return u}},{key:"isCastleAvailable",value:function(e,t){if(this.inCheck(this.board,e))return!1;var n=this.getSquare(e).color;if("e1"===e&&"w"===n){if("g1"===t&&this.canCastleKing.w){if(this.isEmptyBetween(1,1,5,7))return!this.inCheck(this.board,"f1")}else if("c1"===t&&this.canCastleQueen.w&&this.isEmptyBetween(1,1,5,3))return!this.inCheck(this.board,"d1")}else if("e8"===e&&"b"===n)if("g8"===t&&this.canCastleKing.b){if(this.isEmptyBetween(8,8,5,7))return!this.inCheck(this.board,"f8")}else if("c8"===t&&this.canCastleQueen.b&&this.isEmptyBetween(8,8,5,3))return!this.inCheck(this.board,"d8");return!1}},{key:"getToggledSquare",value:function(){return this.toggled}},{key:"getState",value:function(){return{mode:this.mode,player:this.player,turn:this.turn,toggled:this.toggled,board:this.board}}},{key:"getSquare",value:function(e){return this.board.find((function(t){return t.id===e}))}},{key:"getBoardSquare",value:function(e,t){return e.find((function(e){return e.id===t}))}},{key:"getSquaresByVC",value:function(e,t){return this.board.filter((function(n){return n.value===e&&n.color===t}))}},{key:"fileValue",value:function(e){return c.findIndex((function(t){return t===e}))+1}},{key:"emptySquare",value:function(e){this.getSquare(e).color="",this.getSquare(e).value="",this.update({event:"empty",id:e})}},{key:"update",value:function(e){this.listeners.forEach((function(t){return t(e)}))}},{key:"addListener",value:function(e){this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.findIndex((function(t){return t===e}));-1!==t&&this.listeners.splice(t,1)}},{key:"shift",value:function(e,t,n){return c[this.fileValue(e[0])+n-1]+(parseInt(e[1])+t)}},{key:"validShift",value:function(e,t,n){var r=this.fileValue(e[0])+n,i=parseInt(e[1])+t;return r>0&&r<9&&i>0&&i<9}}]),e}(),d=n(1),h=n.n(d),f=n(4),p=n(5),m=n.n(p),g=function(){function e(t,n,r){Object(s.a)(this,e),this.game=t,this.view=n,this.username=""}return Object(o.a)(e,[{key:"configure",value:function(){var e=this;this.view.addListener((function(t){return e.update(t)}))}},{key:"update",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r,i,a,s,o,c,u,l,d,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("click"!==t.type){e.next=81;break}if(!/square*|value*/.test(t.target.className)){e.next=6;break}console.log(t.target.closest(".square").id),this.game.toggleSquare(t.target.closest(".square").id),e.next=81;break;case 6:if("reset"!==t.target.id){e.next=10;break}this.game.resetBoard(),e.next=81;break;case 10:if("promo toggled"!==t.target.className){e.next=14;break}this.game.promote(t.target.id[1]),e.next=81;break;case 14:if("login"!==t.target.id){e.next=27;break}return n=t.target.closest("form").querySelector("#username").value,r=t.target.closest("form").querySelector("#password").value,e.next=19,w(n,r);case 19:if(!e.sent){e.next=24;break}this.username=n,this.view.createGameOptions(),e.next=25;break;case 24:alert("Invalid username or password");case 25:e.next=81;break;case 27:if("signup"!==t.target.id){e.next=45;break}if(i=t.target.closest("form").querySelector("#username").value,a=t.target.closest("form").querySelector("#password").value,s=t.target.closest("form").querySelector("#confirm").value,a!==s){e.next=42;break}return e.next=34,x(i,a,s);case 34:if(!e.sent){e.next=39;break}this.view.createLoginScreen(),alert("Signup Successful! Ready to login."),e.next=40;break;case 39:alert("Username already exists");case 40:e.next=43;break;case 42:alert("Password does not match confirmed password value");case 43:e.next=81;break;case 45:if("logout"!==t.target.id){e.next=52;break}return e.next=48,B(this.username);case 48:this.username="",this.view.createLoginScreen(),e.next=81;break;case 52:if("save"!==t.target.id){e.next=62;break}return o=new Date,c=o.getUTCMonth()<9?"0"+(o.getUTCMonth()+1):o.getUTCMonth()+1,u=o.getUTCDate()<9?"0"+(o.getUTCDate()+1):o.getUTCDate()+1,e.next=58,E(this.username,this.game.player,"".concat(o.getUTCFullYear(),"-").concat(c,"-").concat(u),this.game.log.toString());case 58:if(!e.sent){e.next=60;break}alert("Game saved");case 60:e.next=81;break;case 62:if("load"!==t.target.id){e.next=69;break}return e.next=65,I(this.username);case 65:l=e.sent,this.view.loadGames(l),e.next=81;break;case 69:if("cat"!==t.target.id){e.next=76;break}return e.next=72,j();case 72:d=e.sent,this.view.addImage(d),e.next=81;break;case 76:if("dog"!==t.target.id){e.next=81;break}return e.next=79,v();case 79:f=e.sent,this.view.addImage(f);case 81:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function v(){return b.apply(this,arguments)}function b(){return(b=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"get",url:"https://dog.ceo/api/breeds/image/random"});case 2:return t=e.sent,e.abrupt("return",t.data.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return y.apply(this,arguments)}function y(){return(y=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"get",url:"https://aws.random.cat/meow"});case 2:return t=e.sent,e.abrupt("return",t.data.file);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"get",url:"http://localhost:5000/signup?username=".concat(t,"&password=").concat(n,"&confirm=").concat(r)});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function w(e,t){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"post",url:"http://localhost:5000/login",data:{username:t,password:n}});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function B(e){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"get",url:"http://localhost:5000/logout?username=".concat(t)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t,n,r){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(h.a.mark((function e(t,n,r,i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",url:"http://localhost:5000/save",data:{username:t,color:n,date:r,log:i}});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return L.apply(this,arguments)}function L(){return(L=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"get",url:"http://localhost:5000/load?username=".concat(t)});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=n(22),N=n(20),M=n(8),G=n.n(M),V=n(2),K=n.n(V),F=n(0),P={K:{w:"\u2654",b:"\u265a"},Q:{w:"\u2655",b:"\u265b"},R:{w:"\u2656",b:"\u265c"},B:{w:"\u2657",b:"\u265d"},N:{w:"\u2658",b:"\u265e"},p:{w:"\u2659",b:"\u265f"}},Q=["a","b","c","d","e","f","g","h"],R=function(){function e(t){var n=this;Object(s.a)(this,e),this.game=t,this.listeners=[],t.addListener((function(e){return n.update(e)})),this.createLoginScreen()}return Object(o.a)(e,[{key:"createLoginScreen",value:function(){var e=this;K.a.unmountComponentAtNode(document.getElementById("root")),K.a.render(Object(F.jsxs)("div",{className:"flex",children:[Object(F.jsx)("h1",{children:"Welcome to Chess10"}),Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{id:"login",children:"Login"}),Object(F.jsx)("button",{id:"signup",children:"Signup"})]})]}),document.getElementById("root")),document.getElementById("login").addEventListener("click",(function(t){return e.createLoginForm(t)})),document.getElementById("signup").addEventListener("click",(function(t){return e.createSignupForm(t)}))}},{key:"createLoginForm",value:function(){var e=this;K.a.unmountComponentAtNode(document.getElementById("root")),K.a.render(Object(F.jsxs)("div",{className:"flex",children:[Object(F.jsx)("h1",{children:"Login to Chess10"}),Object(F.jsxs)("form",{className:"flex",children:[Object(F.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(F.jsx)("input",{type:"text",name:"username",id:"username"}),Object(F.jsx)("br",{}),Object(F.jsx)("label",{htmlFor:"password",children:"Password:  "}),Object(F.jsx)("input",{type:"password",name:"password",id:"password"}),Object(F.jsx)("br",{}),Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{type:"submit",id:"login",children:"Submit"}),Object(F.jsx)("button",{id:"cancel",children:"Cancel"})]})]})]}),document.getElementById("root")),document.getElementById("login").addEventListener("click",(function(t){t.preventDefault(),e.updateListeners(t)})),document.getElementById("cancel").addEventListener("click",(function(t){return e.createLoginScreen(t)}))}},{key:"createSignupForm",value:function(){var e=this;K.a.unmountComponentAtNode(document.getElementById("root")),K.a.render(Object(F.jsxs)("div",{className:"flex",children:[Object(F.jsx)("h1",{children:"Login to Chess10"}),Object(F.jsxs)("form",{className:"flex",children:[Object(F.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(F.jsx)("input",{type:"text",name:"username",id:"username"}),Object(F.jsx)("br",{}),Object(F.jsx)("label",{htmlFor:"password",children:"Password:  "}),Object(F.jsx)("input",{type:"password",name:"password",id:"password"}),Object(F.jsx)("br",{}),Object(F.jsx)("label",{htmlFor:"confirm",children:"Confirm Password:  "}),Object(F.jsx)("input",{type:"password",name:"confirm",id:"confirm"}),Object(F.jsx)("br",{}),Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{type:"submit",id:"signup",children:"Submit"}),Object(F.jsx)("button",{id:"cancel",children:"Cancel"})]})]})]}),document.getElementById("root")),document.getElementById("signup").addEventListener("click",(function(t){t.preventDefault(),e.updateListeners(t)})),document.getElementById("cancel").addEventListener("click",(function(t){return e.createLoginScreen(t)}))}},{key:"createGameOptions",value:function(){var e=this;T("load"),document.getElementById("new").addEventListener("click",(function(t){return e.createColorSelect(t)})),document.getElementById("load").addEventListener("click",(function(t){return e.updateListeners(t)}))}},{key:"resetGame",value:function(e){this.listeners.forEach((function(t){return t(e)})),this.createNewGame(this.game.player)}},{key:"loadGames",value:function(e){var t=this;!function(e){K.a.unmountComponentAtNode(document.getElementById("root")),K.a.render(Object(F.jsxs)("div",{className:"flex",children:[Object(F.jsxs)("table",{children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{width:"75px",children:"Game ID"},"idh"),Object(F.jsx)("th",{width:"50px",children:"Color"},"colorh"),Object(F.jsx)("th",{width:"100px",children:"Date"},"dateh"),Object(F.jsx)("th",{width:"200px",children:"Game Log"},"logh")]},"headers")}),Object(F.jsx)("tbody",{children:e.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.id},e.id+"id"),Object(F.jsx)("td",{children:e.color},e.id+"color"),Object(F.jsx)("td",{children:e.date},e.id+"date"),Object(F.jsx)("td",{children:e.log},e.id+"log")]},e.id)}))})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{id:"back",children:"Go Back"}),Object(F.jsx)("button",{id:"logout",children:"Logout"})]})]}),document.getElementById("root"))}(e),document.getElementById("back").addEventListener("click",(function(e){return t.createGameOptions(e)})),document.getElementById("logout").addEventListener("click",(function(e){return t.updateListeners(e)}))}},{key:"createNewGame",value:function(e){var t,n=this;this.game.setPlayer(e),this.game.resetBoard(),t=this.game.getState(),K.a.unmountComponentAtNode(document.getElementById("root")),K.a.render(Object(F.jsx)(D,{board:t.board,player:t.player,toggled:t.toggled}),document.getElementById("root"));for(var r=document.getElementsByClassName("square"),i=0;i<r.length;i++)r[i].addEventListener("click",(function(e){return n.updateListeners(e)}));document.getElementById("reset").addEventListener("click",(function(e){return n.resetGame(e)})),document.getElementById("save").addEventListener("click",(function(e){return n.updateListeners(e)})),document.getElementById("newgame").addEventListener("click",(function(e){return n.createGameOptions(e)})),document.getElementById("logout").addEventListener("click",(function(e){return n.updateListeners(e)})),document.getElementById("cat").addEventListener("click",(function(e){return n.updateListeners(e)})),document.getElementById("dog").addEventListener("click",(function(e){return n.updateListeners(e)}))}},{key:"createColorSelect",value:function(){var e=this;T("color"),document.getElementById("white").addEventListener("click",(function(t){return e.createNewGame("w")})),document.getElementById("black").addEventListener("click",(function(t){return e.createNewGame("b")}))}},{key:"addImage",value:function(e){console.log(e),document.getElementById("randimg").src=e}},{key:"updateListeners",value:function(e){this.listeners.forEach((function(t){return t(e)}))}},{key:"addListener",value:function(e){this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.findIndex((function(t){return t===e}));-1!==t&&this.listeners.splice(t,1)}},{key:"update",value:function(e){var t,n=this;if("toggle"===e.event)document.getElementById(e.id).classList.add("toggled");else if("detoggle"===e.event)document.getElementById(e.id).classList.remove("toggled");else if("empty"===e.event)console.log("Empty At ".concat(e.id)),document.getElementById(e.id).firstChild.innerText="";else if("setValue"===e.event)document.getElementById(e.id).firstChild.innerText=P[e.value][e.color];else if("end"===e.event)console.log("Game Over"),console.log("".concat(e.winner," Wins!"));else if("promote"===e.event){t=e.color,K.a.render(Object(F.jsxs)("div",{children:[Object(F.jsx)("p",{children:"Select Promotion Piece"}),Object(F.jsxs)("div",{className:"promos",children:[Object(F.jsx)("div",{className:"promo",id:"pQ",children:P.Q[t]}),Object(F.jsx)("div",{className:"promo",id:"pN",children:P.N[t]}),Object(F.jsx)("div",{className:"promo",id:"pB",children:P.B[t]}),Object(F.jsx)("div",{className:"promo",id:"pR",children:P.R[t]})]})]}),document.getElementById("promodiv"));for(var r=document.getElementsByClassName("promo"),i=0;i<r.length;i++)r[i].addEventListener("mouseover",(function(e){return e.target.classList.add("toggled")})),r[i].addEventListener("click",(function(t){n.updateListeners(t),document.getElementById(e.id).firstChild.innerText=P[t.target.id[1]][e.color],K.a.unmountComponentAtNode(document.getElementById("promodiv"))}))}}}]),e}();function T(e){K.a.unmountComponentAtNode(document.getElementById("root")),K.a.render(Object(F.jsxs)("div",{className:"flex",children:[Object(F.jsx)("h1",{children:"load"===e?"Select an Option":"Select Color"}),Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{id:"load"===e?"load":"white",children:"load"===e?"View Existing Games":"White"}),Object(F.jsx)("button",{id:"load"===e?"new":"black",children:"load"===e?"Create New Game":"Black"})]})]}),document.getElementById("root"))}var D=function(e){Object(q.a)(n,e);var t=Object(N.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(F.jsxs)("div",{id:"game",children:[Object(F.jsx)("div",{children:Object(F.jsx)("h1",{children:"Play Chess"})}),Object(F.jsx)("div",{className:"player",children:Object(F.jsx)(W,{player:"w"===this.props.player?"b":"w"})}),Object(F.jsx)("div",{id:"promodiv"}),Object(F.jsx)("div",{className:"board",children:Object(F.jsx)(A,{board:this.props.board,player:this.props.player,toggled:this.props.toggled})}),Object(F.jsx)("div",{className:"player",children:Object(F.jsx)(W,{player:this.props.player})}),Object(F.jsxs)("div",{className:"ribbon",children:[Object(F.jsx)("button",{id:"reset",children:"Reset Board"}),Object(F.jsx)("button",{id:"save",children:"Save Game"}),Object(F.jsx)("button",{id:"newgame",children:"New Game"}),Object(F.jsx)("button",{id:"logout",children:"Logout"})]}),Object(F.jsxs)("div",{children:[Object(F.jsx)("button",{id:"cat",children:"I'm a Cat Person"}),Object(F.jsx)("button",{id:"dog",children:"I'm a Dog Person"})]}),Object(F.jsx)("div",{children:Object(F.jsx)("img",{id:"randimg",src:"",alt:""})})]})}}]),n}(G.a.Component);function A(e){return e.board.map((function(t){var n=t.id[1],r=Q.findIndex((function(e){return e===t.id[0]})),i="square ".concat(n%2^r%2?"dark":"light"," ").concat(e.toggled===t.id?"toggled":"");return Object(F.jsx)("div",{className:i,id:t.id,children:Object(F.jsx)(U,{value:t.value,color:t.color})},t.id)}))}function U(e){return Object(F.jsx)("span",{className:"value",children:""===e.value?"":P[e.value][e.color]})}function W(e){return Object(F.jsx)("div",{})}window.addEventListener("load",(function(){var e=new l("singleplayer","w"),t=new R(e);new g(e,t).configure()})),r()}},[[47,1,2]]]);
//# sourceMappingURL=main.6ec4b4ea.chunk.js.map